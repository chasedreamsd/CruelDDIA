# 设计数据密集型应用
- https://vonng.gitbooks.io/ddia-cn/content/
- CH5 副本 P151 - P158

## 简述
- 副本复制和成员变更算法：单领导，多领导，和无领导
- 数据复制：日志复制，变更流
- 只能写入领导者，副本按相同顺序写入
- 同步复制，保证数据一致性，ACID之持久性
- 异步复制，保证数据复制延迟，链式复制

## 灾难恢复
- 一致性快照 + 日志复制
- 选举新主，最新旧主数据的副本
- TODO，请求路由
- 冲突写入，丢弃旧主未复制的写入，TODO-Github-私有数据泄漏

## 数据复制
- 基于语句，不支持非确定函数，比如时间和随机
- 预写日志，基于磁盘？应用程序的二进制？如何对应语句？
- 逻辑日志复制，基于数据库行，支持多行和事务
- 基于触发器，副本会读取触发器生成的数据
